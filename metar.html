<!DOCTYPE html>
<html>
<head>
  <title>METAR報</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <h1>METAR報</h1>
  <div id="metar-container"></div>

  <script>
    // 各空港のMETAR URL
    var airportUrls = {
      '新潟': 'https://www.weatheronline.jp/weather/metar?STATION=RJSN',
      '富山': 'https://www.weatheronline.jp/weather/metar?STATION=RJNT',
      '能登': 'https://www.weatheronline.jp/weather/metar?STATION=RJNW',
      '小松': 'https://www.weatheronline.jp/weather/metar?STATION=RJNK',
      '福井': 'https://www.weatheronline.jp/weather/metar?STATION=RJNF'
    };

    // METARデータを取得して表示する関数
    function getMetarData(url, airport) {
      $.ajax({
        url: url,
        method: 'GET',
        dataType: 'html',
        success: function(response) {
          var metar = $(response).find('pre.metar').text().trim();
          var metarHtml = '<h2>' + airport + '</h2><pre>' + metar + '</pre>';
          $('#metar-container').append(metarHtml);
        }
      });
    }

    // 各空港のMETARデータを取得
    for (var airport in airportUrls) {
      getMetarData(airportUrls[airport], airport);
    }
  </script>
</body>
</html>
